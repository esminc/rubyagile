<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: GetText</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">GetText</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/lib/gettext/poparser_rb.html">
                lib/gettext/poparser.rb
                </a>
        <br />
                <a href="../files/lib/gettext/textdomain_rb.html">
                lib/gettext/textdomain.rb
                </a>
        <br />
                <a href="../files/lib/gettext/utils_rb.html">
                lib/gettext/utils.rb
                </a>
        <br />
                <a href="../files/lib/gettext/rails_rb.html">
                lib/gettext/rails.rb
                </a>
        <br />
                <a href="../files/lib/gettext/version_rb.html">
                lib/gettext/version.rb
                </a>
        <br />
                <a href="../files/lib/gettext/rgettext_rb.html">
                lib/gettext/rgettext.rb
                </a>
        <br />
                <a href="../files/lib/gettext/rmsgfmt_rb.html">
                lib/gettext/rmsgfmt.rb
                </a>
        <br />
                <a href="../files/lib/gettext/container_rb.html">
                lib/gettext/container.rb
                </a>
        <br />
                <a href="../files/lib/gettext/textdomainmanager_rb.html">
                lib/gettext/textdomainmanager.rb
                </a>
        <br />
                <a href="../files/lib/gettext/cgi_rb.html">
                lib/gettext/cgi.rb
                </a>
        <br />
                <a href="../files/lib/gettext/rmsgmerge_rb.html">
                lib/gettext/rmsgmerge.rb
                </a>
        <br />
                <a href="../files/lib/gettext/parser/glade_rb.html">
                lib/gettext/parser/glade.rb
                </a>
        <br />
                <a href="../files/lib/gettext/parser/ruby_rb.html">
                lib/gettext/parser/ruby.rb
                </a>
        <br />
                <a href="../files/lib/gettext/parser/active_record_rb.html">
                lib/gettext/parser/active_record.rb
                </a>
        <br />
                <a href="../files/lib/gettext/parser/erb_rb.html">
                lib/gettext/parser/erb.rb
                </a>
        <br />
                <a href="../files/lib/gettext/erb_rb.html">
                lib/gettext/erb.rb
                </a>
        <br />
                <a href="../files/lib/gettext_rb.html">
                lib/gettext.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000037">N_</a>&nbsp;&nbsp;
      <a href="#M000038">Nn_</a>&nbsp;&nbsp;
      <a href="#M000051">_</a>&nbsp;&nbsp;
      <a href="#M000047">add_default_locale_path</a>&nbsp;&nbsp;
      <a href="#M000030">bindtextdomain</a>&nbsp;&nbsp;
      <a href="#M000031">bindtextdomain_to</a>&nbsp;&nbsp;
      <a href="#M000027">cached=</a>&nbsp;&nbsp;
      <a href="#M000028">cached?</a>&nbsp;&nbsp;
      <a href="#M000025">cgi</a>&nbsp;&nbsp;
      <a href="#M000024">cgi=</a>&nbsp;&nbsp;
      <a href="#M000029">clear_cache</a>&nbsp;&nbsp;
      <a href="#M000019">create_mofiles</a>&nbsp;&nbsp;
      <a href="#M000048">current_textdomain_info</a>&nbsp;&nbsp;
      <a href="#M000034">gettext</a>&nbsp;&nbsp;
      <a href="#M000046">locale</a>&nbsp;&nbsp;
      <a href="#M000042">locale=</a>&nbsp;&nbsp;
      <a href="#M000018">msgmerge</a>&nbsp;&nbsp;
      <a href="#M000052">n_</a>&nbsp;&nbsp;
      <a href="#M000036">ngettext</a>&nbsp;&nbsp;
      <a href="#M000054">ns_</a>&nbsp;&nbsp;
      <a href="#M000039">nsgettext</a>&nbsp;&nbsp;
      <a href="#M000045">output_charset</a>&nbsp;&nbsp;
      <a href="#M000044">output_charset=</a>&nbsp;&nbsp;
      <a href="#M000049">remove_all_textdomains</a>&nbsp;&nbsp;
      <a href="#M000021">rgettext</a>&nbsp;&nbsp;
      <a href="#M000022">rmsgfmt</a>&nbsp;&nbsp;
      <a href="#M000026">rmsgmerge</a>&nbsp;&nbsp;
      <a href="#M000053">s_</a>&nbsp;&nbsp;
      <a href="#M000023">set_cgi</a>&nbsp;&nbsp;
      <a href="#M000040">set_locale</a>&nbsp;&nbsp;
      <a href="#M000041">set_locale_all</a>&nbsp;&nbsp;
      <a href="#M000043">set_output_charset</a>&nbsp;&nbsp;
      <a href="#M000050">setlocale</a>&nbsp;&nbsp;
      <a href="#M000035">sgettext</a>&nbsp;&nbsp;
      <a href="#M000032">textdomain</a>&nbsp;&nbsp;
      <a href="#M000033">textdomain_to</a>&nbsp;&nbsp;
      <a href="#M000020">update_pofiles</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->
    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">
        <span class="include-name"><a href="GetText.html">GetText</a></span>
        <span class="include-name"><a href="GetText.html">GetText</a></span>
      </div>
    </div>

    <div id="section">

    <div id="class-list">
      <h3 class="section-bar">Classes and Modules</h3>

      Module <a href="GetText/ActiveRecordParser.html" class="link">GetText::ActiveRecordParser</a><br />
Module <a href="GetText/Container.html" class="link">GetText::Container</a><br />
Module <a href="GetText/ErbContainer.html" class="link">GetText::ErbContainer</a><br />
Module <a href="GetText/ErbParser.html" class="link">GetText::ErbParser</a><br />
Module <a href="GetText/GladeParser.html" class="link">GetText::GladeParser</a><br />
Module <a href="GetText/Rails.html" class="link">GetText::Rails</a><br />
Module <a href="GetText/RubyParser.html" class="link">GetText::RubyParser</a><br />
Class <a href="GetText/NoboundTextDomainError.html" class="link">GetText::NoboundTextDomainError</a><br />
Class <a href="GetText/PoParser.html" class="link">GetText::PoParser</a><br />
Class <a href="GetText/TextDomain.html" class="link">GetText::TextDomain</a><br />
Class <a href="GetText/TextDomainManager.html" class="link">GetText::TextDomainManager</a><br />

    </div>

    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">VERSION</td>
          <td>=</td>
          <td class="context-item-value">&quot;1.91.0&quot;</td>
        </tr>
        </table>
      </div>
    </div>



      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000037" class="method-detail">
        <a name="M000037"></a>

        <div class="method-heading">
          <a href="#M000037" class="method-signature">
          <span class="method-name">N_</span><span class="method-args">(msgid)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This function does nothing. But it is required in order to recognize the
msgid by <a href="GetText.html#M000021">rgettext</a>.
</p>
<ul>
<li>msgid: the message id.

</li>
<li>Returns: msgid.

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000037-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000037-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext.rb, line 329</span>
329:   <span class="ruby-keyword kw">def</span> <span class="ruby-constant">N_</span>(<span class="ruby-identifier">msgid</span>)
330:     <span class="ruby-identifier">msgid</span>
331:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000038" class="method-detail">
        <a name="M000038"></a>

        <div class="method-heading">
          <a href="#M000038" class="method-signature">
          <span class="method-name">Nn_</span><span class="method-args">(msgid, msgid_plural)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This is same function as <a href="GetText.html#M000037">N_</a> but for <a
href="GetText.html#M000036">ngettext</a>.
</p>
<ul>
<li>msgid: the message id.

</li>
<li>msgid_plural: the plural message id.

</li>
<li>Returns: msgid.

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000038-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000038-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext.rb, line 337</span>
337:   <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Nn_</span>(<span class="ruby-identifier">msgid</span>, <span class="ruby-identifier">msgid_plural</span>)
338:     [<span class="ruby-identifier">msgid</span>, <span class="ruby-identifier">msgid_plural</span>]
339:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000051" class="method-detail">
        <a name="M000051"></a>

        <div class="method-heading">
          <span class="method-name">_</span><span class="method-args">(msgid)</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="GetText.html#M000034">gettext</a>
</p>
        </div>
      </div>

      <div id="method-M000047" class="method-detail">
        <a name="M000047"></a>

        <div class="method-heading">
          <a href="#M000047" class="method-signature">
          <span class="method-name">add_default_locale_path</span><span class="method-args">(path)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Add default <a href="GetText.html#M000046">locale</a> path.
</p>
<ul>
<li>path: a new <a href="GetText.html#M000046">locale</a> path. (e.g.)
&quot;/usr/share/locale/%{<a
href="GetText.html#M000046">locale</a>}/LC_MESSAGES/%{name}.mo&quot;
(&#8216;<a href="GetText.html#M000046">locale</a>&#8217; =&gt;
&quot;ja_JP&quot;, &#8216;name&#8217; =&gt; &quot;<a
href="GetText.html#M000032">textdomain</a>&quot;)

</li>
<li>Returns: the new DEFAULT_LOCALE_PATHS

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000047-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000047-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext.rb, line 511</span>
511:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_default_locale_path</span>(<span class="ruby-identifier">path</span>)
512:     <span class="ruby-constant">TextDomain</span>.<span class="ruby-identifier">add_default_locale_path</span>(<span class="ruby-identifier">path</span>)
513:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000030" class="method-detail">
        <a name="M000030"></a>

        <div class="method-heading">
          <a href="#M000030" class="method-signature">
          <span class="method-name">bindtextdomain(domainname, options = {})<br />
</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Bind a <a href="GetText.html#M000032">textdomain</a>(%{path}/%{<a
href="GetText.html#M000046">locale</a>}/LC_MESSAGES/%{domainname}.mo) to
your program. Normally, the texdomain scope becomes a ruby-script-file. So
you need to call this function each ruby-script-files. On the other hand,
if you call this function under <a
href="GetText/Container.html">GetText::Container</a> (gettext/container,
gettext/erb, gettext/rails), the <a
href="GetText.html#M000032">textdomain</a> scope becomes a Class/<a
href="Module.html">Module</a>.
</p>
<ul>
<li>domainname: the <a href="GetText.html#M000032">textdomain</a> name.

</li>
<li>options: options as an Hash.

<ul>
<li>:path - the path to the mo-files. When the value is nil, it will search
default paths such as /usr/share/locale, /usr/local/share/locale)

</li>
<li>:<a href="GetText.html#M000046">locale</a> - the <a
href="GetText.html#M000046">locale</a> string such as
&quot;ja_JP.UTF-8&quot;. Generally, you should use <a
href="GetText.html#M000040">GetText.set_locale</a> instead. The value is
searched order by: the value of this value &gt; System default language.

</li>
<li>:charset - output charset. This affect the current <a
href="GetText.html#M000032">textdomain</a> only. Generally, you should use
<a href="GetText.html#M000043">GetText.set_output_charset</a> instead. The
value is searched order by: the value of Locale.set_output_charset &gt;
ENV[&quot;OUTPUT_CHARSET&quot;] &gt; this value &gt; System default
charset.

</li>
</ul>
</li>
<li>Returns: the <a
href="GetText/TextDomainManager.html">GetText::TextDomainManager</a>.

</li>
</ul>
<p>
Note: Don&#8216;t use locale_, charset argument(not in options). They are
remained for backward compatibility.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000030-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000030-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext.rb, line 85</span>
 85:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">bindtextdomain</span>(<span class="ruby-identifier">domainname</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">locale_</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">charset</span> = <span class="ruby-keyword kw">nil</span>)
 86:     <span class="ruby-identifier">opt</span> = {}
 87:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">String</span>
 88:       <span class="ruby-comment cmt"># For backward compatibility</span>
 89:       <span class="ruby-identifier">opt</span> = {<span class="ruby-identifier">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>, <span class="ruby-identifier">:locale</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">locale_</span>, <span class="ruby-identifier">:charset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">charset</span>}
 90:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">options</span>
 91:       <span class="ruby-identifier">opt</span> = <span class="ruby-identifier">options</span>
 92:     <span class="ruby-keyword kw">end</span>
 93:     <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:locale</span>] = <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:locale</span>] <span class="ruby-operator">?</span> <span class="ruby-constant">Locale</span><span class="ruby-operator">::</span><span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:locale</span>]) <span class="ruby-operator">:</span> <span class="ruby-constant">Locale</span>.<span class="ruby-identifier">get</span>
 94:     <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:charset</span>] = <span class="ruby-constant">TextDomainManager</span>.<span class="ruby-identifier">output_charset</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">TextDomainManager</span>.<span class="ruby-identifier">output_charset</span>
 95:     <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:locale</span>].<span class="ruby-identifier">charset</span> = <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:charset</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:charset</span>]
 96:     <span class="ruby-constant">Locale</span>.<span class="ruby-identifier">set_current</span>(<span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:locale</span>])
 97:     <span class="ruby-identifier">target_key</span> = <span class="ruby-identifier">bound_target</span>
 98:     <span class="ruby-identifier">manager</span> = <span class="ruby-ivar">@@__textdomainmanagers</span>[<span class="ruby-identifier">target_key</span>]
 99:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">manager</span>
100:       <span class="ruby-identifier">manager</span>.<span class="ruby-identifier">set_locale</span>(<span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:locale</span>]) 
101:     <span class="ruby-keyword kw">else</span>
102:       <span class="ruby-identifier">manager</span> = <span class="ruby-constant">TextDomainManager</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">target_key</span>, <span class="ruby-identifier">opt</span>[<span class="ruby-identifier">:locale</span>])
103:       <span class="ruby-ivar">@@__textdomainmanagers</span>[<span class="ruby-identifier">target_key</span>] = <span class="ruby-identifier">manager</span>
104:     <span class="ruby-keyword kw">end</span>
105:     <span class="ruby-identifier">manager</span>.<span class="ruby-identifier">add_textdomain</span>(<span class="ruby-identifier">domainname</span>, <span class="ruby-identifier">opt</span>)
106:     <span class="ruby-identifier">manager</span>
107:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000031" class="method-detail">
        <a name="M000031"></a>

        <div class="method-heading">
          <a href="#M000031" class="method-signature">
          <span class="method-name">bindtextdomain_to</span><span class="method-args">(klass, domainname, options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Includes <a href="GetText.html">GetText</a> module and bind a <a
href="GetText.html#M000032">textdomain</a> to a class.
</p>
<ul>
<li>klass: the target ruby class.

</li>
<li>domainname: the <a href="GetText.html#M000032">textdomain</a> name.

</li>
<li>options: options as an Hash. See <a
href="GetText.html#M000030">GetText.bindtextdomain</a>.

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000031-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000031-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext.rb, line 113</span>
113:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">bindtextdomain_to</span>(<span class="ruby-identifier">klass</span>, <span class="ruby-identifier">domainname</span>, <span class="ruby-identifier">options</span> = {}) 
114:     <span class="ruby-identifier">ret</span> = <span class="ruby-keyword kw">nil</span>
115:     <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">module_eval</span> {
116:       <span class="ruby-identifier">include</span> <span class="ruby-constant">GetText</span>
117:       <span class="ruby-identifier">ret</span> = <span class="ruby-identifier">bindtextdomain</span>(<span class="ruby-identifier">domainname</span>, <span class="ruby-identifier">options</span>)
118:     }
119:     <span class="ruby-identifier">ret</span>
120:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000027" class="method-detail">
        <a name="M000027"></a>

        <div class="method-heading">
          <a href="#M000027" class="method-signature">
          <span class="method-name">cached=</span><span class="method-args">(val)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Set the value whether cache messages or not. true to cache messages,
otherwise false.
</p>
<p>
Default is true. If $DEBUG is false, messages are not checked even if this
value is true.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000027-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000027-source">
<pre>
    <span class="ruby-comment cmt"># File lib/gettext.rb, line 42</span>
42:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cached=</span>(<span class="ruby-identifier">val</span>)
43:     <span class="ruby-ivar">@@__cached</span> = <span class="ruby-identifier">val</span>
44:     <span class="ruby-constant">GetText</span><span class="ruby-operator">::</span><span class="ruby-constant">TextDomain</span>.<span class="ruby-identifier">check_mo</span> = <span class="ruby-operator">!</span> <span class="ruby-identifier">val</span>
45:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000028" class="method-detail">
        <a name="M000028"></a>

        <div class="method-heading">
          <a href="#M000028" class="method-signature">
          <span class="method-name">cached?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Return the cached value.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000028-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000028-source">
<pre>
    <span class="ruby-comment cmt"># File lib/gettext.rb, line 48</span>
48:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cached?</span>
49:     <span class="ruby-ivar">@@__cached</span>
50:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000025" class="method-detail">
        <a name="M000025"></a>

        <div class="method-heading">
          <a href="#M000025" class="method-signature">
          <span class="method-name">cgi</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Gets the CGI object. If it is nil, returns new CGI object.
</p>
<ul>
<li>Returns: the CGI object

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000025-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000025-source">
<pre>
    <span class="ruby-comment cmt"># File lib/gettext/cgi.rb, line 36</span>
36:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cgi</span>
37:     <span class="ruby-constant">Locale</span>.<span class="ruby-identifier">cgi</span>
38:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000024" class="method-detail">
        <a name="M000024"></a>

        <div class="method-heading">
          <a href="#M000024" class="method-signature">
          <span class="method-name">cgi=</span><span class="method-args">(cgi_)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Same as <a href="GetText.html#M000023">GetText.set_cgi</a>.
</p>
<ul>
<li>cgi_: CGI object

</li>
<li>Returns: cgi_

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000024-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000024-source">
<pre>
    <span class="ruby-comment cmt"># File lib/gettext/cgi.rb, line 29</span>
29:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cgi=</span>(<span class="ruby-identifier">cgi_</span>)
30:     <span class="ruby-identifier">set_cgi</span>(<span class="ruby-identifier">cgi_</span>)
31:     <span class="ruby-identifier">cgi_</span>
32:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000029" class="method-detail">
        <a name="M000029"></a>

        <div class="method-heading">
          <a href="#M000029" class="method-signature">
          <span class="method-name">clear_cache</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Clear the cached messages.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000029-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000029-source">
<pre>
    <span class="ruby-comment cmt"># File lib/gettext.rb, line 53</span>
53:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clear_cache</span>
54:     <span class="ruby-ivar">@@__cache_msgids</span> = {}
55:     <span class="ruby-ivar">@@__cache_nmsgids</span> = {}
56:     <span class="ruby-ivar">@@__cache_target_classes</span> = {}
57:     <span class="ruby-ivar">@@__cache_bound_target</span> = {}
58:     <span class="ruby-ivar">@@__cache_bound_targets</span> = {}
59:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000019" class="method-detail">
        <a name="M000019"></a>

        <div class="method-heading">
          <a href="#M000019" class="method-signature">
          <span class="method-name">create_mofiles</span><span class="method-args">(verbose = false, podir = &quot;./po&quot;, targetdir = &quot;./data/locale&quot;, targetpath_rule = &quot;%s/LC_MESSAGES&quot;)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Creates mo-files using #{po_root}/#{lang}/*.po an put them to
#{targetdir}/#{targetpath_rule}/.
</p>
<p>
This is a convenience function of <a
href="GetText.html#M000022">GetText.rmsgfmt</a> for plural target files.
</p>
<ul>
<li>verbose: true if verbose mode, otherwise false

</li>
<li>po_root: the root directory of po-files.

</li>
<li>targetdir: the target root directory where the mo-files are stored.

</li>
<li>targetpath_rule: the target directory for each mo-files. &quot;%s&quot;
becomes &quot;#{lang}&quot; under po_root.

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000019-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000019-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext/utils.rb, line 96</span>
 96:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_mofiles</span>(<span class="ruby-identifier">verbose</span> = <span class="ruby-keyword kw">false</span>, 
 97:                      <span class="ruby-identifier">podir</span> = <span class="ruby-value str">&quot;./po&quot;</span>, <span class="ruby-identifier">targetdir</span> = <span class="ruby-value str">&quot;./data/locale&quot;</span>, 
 98:                      <span class="ruby-identifier">targetpath_rule</span> = <span class="ruby-value str">&quot;%s/LC_MESSAGES&quot;</span>) 
 99: 
100:     <span class="ruby-identifier">modir</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">targetdir</span>, <span class="ruby-identifier">targetpath_rule</span>)
101:     <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">podir</span>, <span class="ruby-value str">&quot;*/*.po&quot;</span>)) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
102:       <span class="ruby-identifier">lang</span>, <span class="ruby-identifier">basename</span> = <span class="ruby-regexp re">/\/([^\/]+?)\/(.*)\.po/</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">file</span>[<span class="ruby-identifier">podir</span>.<span class="ruby-identifier">size</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>]).<span class="ruby-identifier">to_a</span>[<span class="ruby-value">1</span>,<span class="ruby-value">2</span>]
103:       <span class="ruby-identifier">outdir</span> = <span class="ruby-identifier">modir</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">lang</span>
104:       <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">mkdir_p</span>(<span class="ruby-identifier">outdir</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span>(<span class="ruby-identifier">outdir</span>)
105:       <span class="ruby-identifier">rmsgfmt</span>(<span class="ruby-identifier">file</span>, <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">outdir</span>, <span class="ruby-node">&quot;#{basename}.mo&quot;</span>))
106:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">verbose</span>
107:         <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">%Q[#{file} -&gt; #{File.join(outdir, &quot;#{basename}.mo&quot;)}]</span>
108:       <span class="ruby-keyword kw">end</span>
109:     <span class="ruby-keyword kw">end</span>
110:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000048" class="method-detail">
        <a name="M000048"></a>

        <div class="method-heading">
          <a href="#M000048" class="method-signature">
          <span class="method-name">current_textdomain_info</span><span class="method-args">(options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Show the current <a href="GetText.html#M000032">textdomain</a> information.
This function is for debugging.
</p>
<ul>
<li>options: options as a Hash.

<ul>
<li>:with_messages - show informations with messages of the current mo file.
Default is false.

</li>
<li>:out - An output target. Default is STDOUT.

</li>
<li>:with_paths - show the load paths for mo-files.

</li>
</ul>
</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000048-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000048-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext.rb, line 520</span>
520:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">current_textdomain_info</span>(<span class="ruby-identifier">options</span> = {})
521:     <span class="ruby-identifier">opts</span> = {<span class="ruby-identifier">:with_messages</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">:with_paths</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">:out</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">STDOUT</span>}.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>)
522:     <span class="ruby-identifier">ret</span> = <span class="ruby-keyword kw">nil</span>
523:     <span class="ruby-identifier">each_textdomain</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">textdomain</span><span class="ruby-operator">|</span>
524:       <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:out</span>].<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;TextDomain name: \&quot;#{textdomain.name}\&quot;&quot;</span>
525:       <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:out</span>].<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;TextDomain current locale: \&quot;#{textdomain.current_locale}\&quot;&quot;</span>
526:       <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:out</span>].<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;TextDomain current mo filename: \&quot;#{textdomain.current_mo.filename}\&quot;&quot;</span>
527:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:with_paths</span>]
528:         <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:out</span>].<span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;TextDomain locale file paths:&quot;</span>
529:         <span class="ruby-identifier">textdomain</span>.<span class="ruby-identifier">locale_paths</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
530:           <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:out</span>].<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;  #{v}&quot;</span>
531:         <span class="ruby-keyword kw">end</span>
532:       <span class="ruby-keyword kw">end</span>
533:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:with_messages</span>]
534:         <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:out</span>].<span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;The messages in the mo file:&quot;</span>
535:         <span class="ruby-identifier">textdomain</span>.<span class="ruby-identifier">current_mo</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
536:           <span class="ruby-identifier">opts</span>[<span class="ruby-identifier">:out</span>].<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;  \&quot;#{k}\&quot;: \&quot;#{v}\&quot;&quot;</span>
537:         }
538:       <span class="ruby-keyword kw">end</span>
539:     }
540:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000034" class="method-detail">
        <a name="M000034"></a>

        <div class="method-heading">
          <a href="#M000034" class="method-signature">
          <span class="method-name">gettext(msgid)<br />
_(msgid)<br />
</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Translates msgid and return the message. This doesn&#8216;t make a copy of
the message.
</p>
<p>
You need to use String#dup if you want to modify the return value with
destructive functions.
</p>
<p>
(e.g.1) <a href="GetText.html#M000051">_</a>(&quot;Hello &quot;).dup
&lt;&lt; &quot;world&quot;
</p>
<p>
But e.g.1 should be rewrite to:
</p>
<p>
(e.g.2) <a href="GetText.html#M000051">_</a>(&quot;Hello %{val}&quot;) %
{:val =&gt; &quot;world&quot;}
</p>
<p>
Because the translator may want to change the position of
&quot;world&quot;.
</p>
<ul>
<li>msgid: the message id.

</li>
<li>Returns: localized text by msgid. If there are not binded mo-file, it will
return msgid.

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000034-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000034-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext.rb, line 262</span>
262:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gettext</span>(<span class="ruby-identifier">msgid</span>)
263:     <span class="ruby-identifier">sgettext</span>(<span class="ruby-identifier">msgid</span>, <span class="ruby-keyword kw">nil</span>)
264:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000046" class="method-detail">
        <a name="M000046"></a>

        <div class="method-heading">
          <a href="#M000046" class="method-signature">
          <span class="method-name">locale</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Gets the current <a href="GetText.html#M000046">locale</a>.
</p>
<ul>
<li>Returns: a current <a href="Locale/Object.html">Locale::Object</a>

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000046-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000046-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext.rb, line 503</span>
503:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">locale</span>
504:     <span class="ruby-constant">Locale</span>.<span class="ruby-identifier">current</span>
505:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000042" class="method-detail">
        <a name="M000042"></a>

        <div class="method-heading">
          <a href="#M000042" class="method-signature">
          <span class="method-name">locale=</span><span class="method-args">(locale)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sets the default/current <a href="GetText.html#M000046">locale</a>. This
method haves the strongest infulence. All of the Textdomains are set the
new <a href="GetText.html#M000046">locale</a>.
</p>
<p>
Note that you shouldn&#8216;t use this for your own Libraries.
</p>
<ul>
<li><a href="GetText.html#M000046">locale</a>: a <a
href="GetText.html#M000046">locale</a> string or <a
href="Locale/Object.html">Locale::Object</a>

</li>
<li>Returns: a <a href="GetText.html#M000046">locale</a> string

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000042-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000042-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext.rb, line 473</span>
473:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">locale=</span>(<span class="ruby-identifier">locale</span>)
474:     <span class="ruby-constant">Locale</span>.<span class="ruby-identifier">default</span> = <span class="ruby-identifier">locale</span>
475:     <span class="ruby-identifier">set_locale_all</span>(<span class="ruby-identifier">locale</span>)
476:     <span class="ruby-constant">Locale</span>.<span class="ruby-identifier">default</span>
477:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000018" class="method-detail">
        <a name="M000018"></a>

        <div class="method-heading">
          <a href="#M000018" class="method-signature">
          <span class="method-name">msgmerge</span><span class="method-args">(defpo, refpo, app_version)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Merges two Uniforum style .po files together.
</p>
<p>
<b>Note</b> This function requires &quot;<a
href="GetText.html#M000018">msgmerge</a>&quot; tool included in GNU <a
href="GetText.html">GetText</a>. So you need to install GNU <a
href="GetText.html">GetText</a>.
</p>
<p>
The def.po file is an existing PO file with translations which will be
taken over to the newly created file as long as they still match; comments
will be preserved, but extracted comments and file positions will be
discarded.
</p>
<p>
The ref.pot file is the last created PO file with up-to-date source
references but old translations, or a PO Template file (generally created
by <a href="GetText.html#M000021">rgettext</a>); any translations or
comments in the file will be discarded, however dot comments and file
positions will be preserved. Where an exact match cannot be found, fuzzy
matching is used to produce better results.
</p>
<p>
Usually you don&#8216;t need to call this function directly. Use <a
href="GetText.html#M000020">GetText.update_pofiles</a> instead.
</p>
<ul>
<li>defpo: a po-file. translations referring to old sources

</li>
<li>refpo: a po-file. references to new sources

</li>
<li>app_version: the application information which appears
&quot;Project-Id-Version: #{app_version}&quot; in the pot/po-files.

</li>
<li>Returns: self

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000018-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000018-source">
<pre>
    <span class="ruby-comment cmt"># File lib/gettext/utils.rb, line 47</span>
47:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">msgmerge</span>(<span class="ruby-identifier">defpo</span>, <span class="ruby-identifier">refpo</span>, <span class="ruby-identifier">app_version</span>) 
48:     <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">defpo</span>
49:     <span class="ruby-identifier">cmd</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-value str">&quot;MSGMERGE_PATH&quot;</span>] <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;msgmerge&quot;</span>
50: 
51:     <span class="ruby-identifier">cont</span> = <span class="ruby-value str">&quot;&quot;</span>
52:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">FileTest</span>.<span class="ruby-identifier">exist?</span> <span class="ruby-identifier">defpo</span>
53:       <span class="ruby-node">`#{cmd} --version`</span>
54:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">$?</span>.<span class="ruby-identifier">success?</span>
55:         <span class="ruby-identifier">raise</span> <span class="ruby-identifier">_</span>(<span class="ruby-node">&quot;`#{cmd}' may not be found. \nInstall GNU Gettext then set PATH or MSGMERGE_PATH correctly.&quot;</span>)
56:       <span class="ruby-keyword kw">end</span>
57:       <span class="ruby-identifier">cont</span> = <span class="ruby-node">`#{cmd} #{defpo} #{refpo}`</span>
58:     <span class="ruby-keyword kw">else</span>
59:       <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">refpo</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span> 
60:         <span class="ruby-identifier">cont</span> = <span class="ruby-identifier">io</span>.<span class="ruby-identifier">read</span>
61:       <span class="ruby-keyword kw">end</span>
62:     <span class="ruby-keyword kw">end</span>
63:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">cont</span>.<span class="ruby-identifier">empty?</span>
64:       <span class="ruby-identifier">failed_filename</span> = <span class="ruby-identifier">refpo</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;~&quot;</span>
65:       <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">cp</span>(<span class="ruby-identifier">refpo</span>, <span class="ruby-identifier">failed_filename</span>)
66:       <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Failed to merge with %{defpo}&quot;</span>) <span class="ruby-operator">%</span> {<span class="ruby-identifier">:defpo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">defpo</span>}
67:       <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;New .pot was copied to %{failed_filename}&quot;</span>) <span class="ruby-operator">%</span>{<span class="ruby-identifier">:failed_filename</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">failed_filename</span>}
68:       <span class="ruby-identifier">raise</span> <span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Check these po/pot-files. It may have syntax errors or something wrong.&quot;</span>)
69:     <span class="ruby-keyword kw">else</span>
70:       <span class="ruby-identifier">cont</span>.<span class="ruby-identifier">sub!</span>(<span class="ruby-regexp re">/(Project-Id-Version\:).*$/</span>, <span class="ruby-node">&quot;\\1 #{app_version}\\n\&quot;&quot;</span>)
71:       <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">defpo</span>, <span class="ruby-value str">&quot;w&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">out</span><span class="ruby-operator">|</span>
72:         <span class="ruby-identifier">out</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">cont</span>)
73:       <span class="ruby-keyword kw">end</span>
74:     <span class="ruby-keyword kw">end</span>
75:     <span class="ruby-keyword kw">self</span>
76:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000052" class="method-detail">
        <a name="M000052"></a>

        <div class="method-heading">
          <span class="method-name">n_</span><span class="method-args">(arg1, arg2, arg3 = nil)</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="GetText.html#M000036">ngettext</a>
</p>
        </div>
      </div>

      <div id="method-M000036" class="method-detail">
        <a name="M000036"></a>

        <div class="method-heading">
          <a href="#M000036" class="method-signature">
          <span class="method-name">ngettext(msgid, msgid_plural, n)<br />
ngettext(msgids, n)  # msgids = [msgid, msgid_plural]<br />
n_(msgid, msgid_plural, n)<br />
n_(msgids, n)  # msgids = [msgid, msgid_plural]<br />
</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The <a href="GetText.html#M000036">ngettext</a> is similar to the <a
href="GetText.html#M000034">gettext</a> function as it finds the message
catalogs in the same way. But it takes two extra arguments for plural form.
</p>
<ul>
<li>msgid: the singular form.

</li>
<li>msgid_plural: the plural form.

</li>
<li>n: a number used to determine the plural form.

</li>
<li>Returns: the localized text which key is msgid_plural if n is plural(follow
plural-rule) or msgid. &quot;plural-rule&quot; is defined in po-file.

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000036-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000036-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext.rb, line 322</span>
322:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ngettext</span>(<span class="ruby-identifier">arg1</span>, <span class="ruby-identifier">arg2</span>, <span class="ruby-identifier">arg3</span> = <span class="ruby-keyword kw">nil</span>)
323:     <span class="ruby-identifier">nsgettext</span>(<span class="ruby-identifier">arg1</span>, <span class="ruby-identifier">arg2</span>, <span class="ruby-identifier">arg3</span>, <span class="ruby-keyword kw">nil</span>)
324:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000054" class="method-detail">
        <a name="M000054"></a>

        <div class="method-heading">
          <span class="method-name">ns_</span><span class="method-args">(arg1, arg2, arg3 = &quot;|&quot;, arg4 = &quot;|&quot;)</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="GetText.html#M000039">nsgettext</a>
</p>
        </div>
      </div>

      <div id="method-M000039" class="method-detail">
        <a name="M000039"></a>

        <div class="method-heading">
          <a href="#M000039" class="method-signature">
          <span class="method-name">nsgettext(msgid, msgid_plural, n, div = "|")<br />
nsgettext(msgids, n, div = "|")  # msgids = [msgid, msgid_plural]<br />
n_(msgid, msgid_plural, n, div = "|")<br />
n_(msgids, n, div = "|")  # msgids = [msgid, msgid_plural]<br />
</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The <a href="GetText.html#M000039">nsgettext</a> is similar to the <a
href="GetText.html#M000036">ngettext</a>. But if there are no localized
text, it returns a last part of msgid separeted &quot;div&quot;.
</p>
<ul>
<li>msgid: the singular form with &quot;div&quot;. (e.g. &quot;Special|An
apple&quot;)

</li>
<li>msgid_plural: the plural form. (e.g. &quot;%{num} Apples&quot;)

</li>
<li>n: a number used to determine the plural form.

</li>
<li>Returns: the localized text which key is msgid_plural if n is plural(follow
plural-rule) or msgid. &quot;plural-rule&quot; is defined in po-file.

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000039-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000039-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext.rb, line 357</span>
357:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">nsgettext</span>(<span class="ruby-identifier">arg1</span>, <span class="ruby-identifier">arg2</span>, <span class="ruby-identifier">arg3</span> = <span class="ruby-value str">&quot;|&quot;</span>, <span class="ruby-identifier">arg4</span> = <span class="ruby-value str">&quot;|&quot;</span>)
358:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arg1</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Array</span>)
359:       <span class="ruby-identifier">msgid</span> = <span class="ruby-identifier">arg1</span>[<span class="ruby-value">0</span>]
360:       <span class="ruby-identifier">msgid_plural</span> = <span class="ruby-identifier">arg1</span>[<span class="ruby-value">1</span>]
361:       <span class="ruby-identifier">n</span> = <span class="ruby-identifier">arg2</span>
362:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arg3</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">arg3</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Numeric</span>
363:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;3rd parmeter is wrong: value = %{number}&quot;</span>) <span class="ruby-operator">%</span> {<span class="ruby-identifier">:number</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">arg3</span>}
364:       <span class="ruby-keyword kw">end</span>
365:       <span class="ruby-identifier">div</span> = <span class="ruby-identifier">arg3</span>
366:     <span class="ruby-keyword kw">else</span>
367:       <span class="ruby-identifier">msgid</span> = <span class="ruby-identifier">arg1</span>
368:       <span class="ruby-identifier">msgid_plural</span> = <span class="ruby-identifier">arg2</span>
369:       <span class="ruby-identifier">n</span> = <span class="ruby-identifier">arg3</span>
370:       <span class="ruby-identifier">div</span> = <span class="ruby-identifier">arg4</span>
371:     <span class="ruby-keyword kw">end</span>
372: 
373:     <span class="ruby-identifier">cached_key</span> = [<span class="ruby-identifier">bound_target</span>, <span class="ruby-constant">Locale</span>.<span class="ruby-identifier">current</span>, <span class="ruby-identifier">msgid</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;\000&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">msgid_plural</span>]
374:     <span class="ruby-identifier">msgs</span> = <span class="ruby-keyword kw">nil</span>
375:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@@__cached</span>
376:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@@__cache_nmsgids</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">cached_key</span>)
377:         <span class="ruby-identifier">msgs</span> = <span class="ruby-ivar">@@__cache_nmsgids</span>[<span class="ruby-identifier">cached_key</span>]  <span class="ruby-comment cmt"># [msgstr, cond_as_string]</span>
378:       <span class="ruby-keyword kw">end</span>
379:     <span class="ruby-keyword kw">end</span>
380:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msgs</span>
381:       <span class="ruby-comment cmt"># Use &quot;for&quot;(not &quot;each&quot;) to support JRuby 1.1.0.</span>
382:       <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">target</span> <span class="ruby-keyword kw">in</span> <span class="ruby-identifier">bound_targets</span>(<span class="ruby-keyword kw">self</span>)
383:         <span class="ruby-identifier">manager</span> = <span class="ruby-ivar">@@__textdomainmanagers</span>[<span class="ruby-identifier">target</span>]
384:         <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">textdomain</span> <span class="ruby-keyword kw">in</span> <span class="ruby-identifier">manager</span>.<span class="ruby-identifier">textdomains</span>
385:           <span class="ruby-identifier">msgs</span> = <span class="ruby-identifier">textdomain</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">ngettext_data</span>(<span class="ruby-identifier">msgid</span>, <span class="ruby-identifier">msgid_plural</span>)
386:           <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">msgs</span>
387:         <span class="ruby-keyword kw">end</span>
388:         <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">msgs</span>
389:       <span class="ruby-keyword kw">end</span>
390:       <span class="ruby-identifier">msgs</span> = [[<span class="ruby-identifier">msgid</span>, <span class="ruby-identifier">msgid_plural</span>], <span class="ruby-value str">&quot;n != 1&quot;</span>] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">msgs</span>
391:       <span class="ruby-ivar">@@__cache_nmsgids</span>[<span class="ruby-identifier">cached_key</span>] = <span class="ruby-identifier">msgs</span>
392:     <span class="ruby-keyword kw">end</span>
393:     <span class="ruby-identifier">msgstrs</span> = <span class="ruby-identifier">msgs</span>[<span class="ruby-value">0</span>]
394:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">div</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">msgstrs</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">msgid</span>
395:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">index</span> = <span class="ruby-identifier">msgstrs</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">rindex</span>(<span class="ruby-identifier">div</span>)
396:         <span class="ruby-identifier">msgstrs</span>[<span class="ruby-value">0</span>] = <span class="ruby-identifier">msgstrs</span>[<span class="ruby-value">0</span>][(<span class="ruby-identifier">index</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)<span class="ruby-operator">..</span><span class="ruby-value">-1</span>]
397:       <span class="ruby-keyword kw">end</span>
398:     <span class="ruby-keyword kw">end</span>
399:     <span class="ruby-identifier">plural</span> = <span class="ruby-identifier">eval</span>(<span class="ruby-identifier">msgs</span>[<span class="ruby-value">1</span>])
400:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">plural</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Numeric</span>)
401:       <span class="ruby-identifier">ret</span> = <span class="ruby-identifier">msgstrs</span>[<span class="ruby-identifier">plural</span>]
402:     <span class="ruby-keyword kw">else</span>
403:       <span class="ruby-identifier">ret</span> = <span class="ruby-identifier">plural</span> <span class="ruby-value">? </span><span class="ruby-identifier">msgstrs</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">:</span> <span class="ruby-identifier">msgstrs</span>[<span class="ruby-value">0</span>]
404:     <span class="ruby-keyword kw">end</span>
405:     <span class="ruby-identifier">ret</span>
406:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000045" class="method-detail">
        <a name="M000045"></a>

        <div class="method-heading">
          <a href="#M000045" class="method-signature">
          <span class="method-name">output_charset</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Gets the current <a href="GetText.html#M000045">output_charset</a> which is
set using <a href="GetText.html#M000043">GetText.set_output_charset</a>.
</p>
<ul>
<li>Returns: <a href="GetText.html#M000045">output_charset</a>.

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000045-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000045-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext.rb, line 497</span>
497:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">output_charset</span>
498:     <span class="ruby-constant">TextDomainManager</span>.<span class="ruby-identifier">output_charset</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">charset</span>
499:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000044" class="method-detail">
        <a name="M000044"></a>

        <div class="method-heading">
          <a href="#M000044" class="method-signature">
          <span class="method-name">output_charset=</span><span class="method-args">(charset)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Same as <a href="GetText.html#M000043">GetText.set_output_charset</a>
</p>
<ul>
<li>charset: an <a href="GetText.html#M000045">output_charset</a>

</li>
<li>Returns: charset

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000044-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000044-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext.rb, line 491</span>
491:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">output_charset=</span>(<span class="ruby-identifier">charset</span>)
492:     <span class="ruby-constant">TextDomainManager</span>.<span class="ruby-identifier">output_charset</span> = <span class="ruby-identifier">charset</span>
493:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000049" class="method-detail">
        <a name="M000049"></a>

        <div class="method-heading">
          <a href="#M000049" class="method-signature">
          <span class="method-name">remove_all_textdomains</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
for testing.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000049-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000049-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext.rb, line 543</span>
543:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_all_textdomains</span>
544:     <span class="ruby-identifier">clear_cache</span>
545:     <span class="ruby-ivar">@@__textdomainmanagers</span> = {}
546:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000021" class="method-detail">
        <a name="M000021"></a>

        <div class="method-heading">
          <a href="#M000021" class="method-signature">
          <span class="method-name">rgettext</span><span class="method-args">(targetfiles = nil, out = STDOUT)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Creates a po-file from targetfiles(ruby-script-files, ActiveRecord, .rhtml
files, glade-2 XML files), then output the result to out. If no parameter
is set, it behaves same as command line tools(rgettet).
</p>
<p>
This function is a part of GetText.create_pofiles. Usually you don&#8216;t
need to call this function directly.
</p>
<p>
<b>Note</b> for ActiveRecord, you need to run your database server and
configure the config/database.xml correctly before execute this function.
</p>
<ul>
<li>targetfiles: An Array of po-files or nil.

</li>
<li>out: output IO or output path.

</li>
<li>Returns: self

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000021-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000021-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext/rgettext.rb, line 259</span>
259:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rgettext</span>(<span class="ruby-identifier">targetfiles</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">out</span> = <span class="ruby-constant">STDOUT</span>)
260:     <span class="ruby-constant">RGetText</span>.<span class="ruby-identifier">run</span>(<span class="ruby-identifier">targetfiles</span>, <span class="ruby-identifier">out</span>)
261:     <span class="ruby-keyword kw">self</span>
262:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000022" class="method-detail">
        <a name="M000022"></a>

        <div class="method-heading">
          <a href="#M000022" class="method-signature">
          <span class="method-name">rmsgfmt</span><span class="method-args">(targetfile = nil, output_path = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Creates a mo-file from a targetfile(po-file), then output the result to
out. If no parameter is set, it behaves same as command line tools(<a
href="GetText.html#M000022">rmsgfmt</a>).
</p>
<ul>
<li>targetfile: An Array of po-files or nil.

</li>
<li>output_path: output path.

</li>
<li>Returns: the <a href="MOFile.html">MOFile</a> object.

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000022-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000022-source">
<pre>
    <span class="ruby-comment cmt"># File lib/gettext/rmsgfmt.rb, line 79</span>
79:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rmsgfmt</span>(<span class="ruby-identifier">targetfile</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">output_path</span> = <span class="ruby-keyword kw">nil</span>)
80:     <span class="ruby-constant">RMsgfmt</span>.<span class="ruby-identifier">run</span>(<span class="ruby-identifier">targetfile</span>, <span class="ruby-identifier">output_path</span>)
81:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000026" class="method-detail">
        <a name="M000026"></a>

        <div class="method-heading">
          <a href="#M000026" class="method-signature">
          <span class="method-name">rmsgmerge</span><span class="method-args">(reference = nil, definition = nil, out = STDOUT)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Experimental
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000026-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000026-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext/rmsgmerge.rb, line 489</span>
489:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rmsgmerge</span>(<span class="ruby-identifier">reference</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">definition</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">out</span> = <span class="ruby-constant">STDOUT</span>)
490:     <span class="ruby-constant">RMsgMerge</span>.<span class="ruby-identifier">run</span>(<span class="ruby-identifier">reference</span>, <span class="ruby-identifier">definition</span>, <span class="ruby-identifier">out</span>)
491:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000053" class="method-detail">
        <a name="M000053"></a>

        <div class="method-heading">
          <span class="method-name">s_</span><span class="method-args">(msgid, div = '|')</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="GetText.html#M000035">sgettext</a>
</p>
        </div>
      </div>

      <div id="method-M000023" class="method-detail">
        <a name="M000023"></a>

        <div class="method-heading">
          <a href="#M000023" class="method-signature">
          <span class="method-name">set_cgi</span><span class="method-args">(cgi_)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sets a CGI object.
</p>
<ul>
<li>cgi_: CGI object

</li>
<li>Returns: self

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000023-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000023-source">
<pre>
    <span class="ruby-comment cmt"># File lib/gettext/cgi.rb, line 22</span>
22:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_cgi</span>(<span class="ruby-identifier">cgi_</span>)
23:     <span class="ruby-constant">Locale</span>.<span class="ruby-identifier">set_cgi</span>(<span class="ruby-identifier">cgi_</span>)
24:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000040" class="method-detail">
        <a name="M000040"></a>

        <div class="method-heading">
          <a href="#M000040" class="method-signature">
          <span class="method-name">set_locale</span><span class="method-args">(locale, this_target_only = false)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sets the current <a href="GetText.html#M000046">locale</a> to the current
class/module
</p>
<p>
Notice that you shouldn&#8216;t use this for your own Libraries.
</p>
<ul>
<li><a href="GetText.html#M000046">locale</a>: a <a
href="GetText.html#M000046">locale</a> string or <a
href="Locale/Object.html">Locale::Object</a>.

</li>
<li>this_target_only: true if you want to change the current class/module only.

</li>
</ul>
<p>
Otherwise, this changes the <a href="GetText.html#M000046">locale</a> of
the current class/module and its ancestors. Default is false.
</p>
<ul>
<li>Returns: self

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000040-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000040-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext.rb, line 416</span>
416:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_locale</span>(<span class="ruby-identifier">locale</span>, <span class="ruby-identifier">this_target_only</span> = <span class="ruby-keyword kw">false</span>)
417:     <span class="ruby-identifier">ret</span> = <span class="ruby-keyword kw">nil</span>
418:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">locale</span>
419:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Locale</span><span class="ruby-operator">::</span><span class="ruby-constant">Object</span>
420:         <span class="ruby-identifier">ret</span> = <span class="ruby-identifier">locale</span>
421:       <span class="ruby-keyword kw">else</span>
422:         <span class="ruby-identifier">ret</span> = <span class="ruby-constant">Locale</span><span class="ruby-operator">::</span><span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">locale</span>.<span class="ruby-identifier">to_s</span>)
423:       <span class="ruby-keyword kw">end</span>
424:       <span class="ruby-identifier">ret</span>.<span class="ruby-identifier">charset</span> = <span class="ruby-constant">TextDomainManager</span>.<span class="ruby-identifier">output_charset</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">TextDomainManager</span>.<span class="ruby-identifier">output_charset</span>
425:       <span class="ruby-constant">Locale</span>.<span class="ruby-identifier">set</span>(<span class="ruby-identifier">ret</span>)
426:     <span class="ruby-keyword kw">else</span>
427:       <span class="ruby-constant">Locale</span>.<span class="ruby-identifier">set</span>(<span class="ruby-keyword kw">nil</span>)
428:       <span class="ruby-identifier">ret</span> = <span class="ruby-constant">Locale</span>.<span class="ruby-identifier">get</span>
429:     <span class="ruby-keyword kw">end</span>
430:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">this_target_only</span>
431:       <span class="ruby-identifier">manager</span> = <span class="ruby-ivar">@@__textdomainmanagers</span>[<span class="ruby-identifier">bound_target</span>]
432:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">manager</span>
433:         <span class="ruby-identifier">manager</span>.<span class="ruby-identifier">set_locale</span>(<span class="ruby-identifier">ret</span>, <span class="ruby-operator">!</span> <span class="ruby-identifier">cached?</span>)
434:       <span class="ruby-keyword kw">end</span>
435:     <span class="ruby-keyword kw">else</span>
436:       <span class="ruby-identifier">each_textdomain</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">textdomain</span><span class="ruby-operator">|</span>
437:         <span class="ruby-identifier">textdomain</span>.<span class="ruby-identifier">set_locale</span>(<span class="ruby-identifier">ret</span>, <span class="ruby-operator">!</span> <span class="ruby-identifier">cached?</span>)
438:       }
439:     <span class="ruby-keyword kw">end</span>
440:     <span class="ruby-keyword kw">self</span>
441:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000041" class="method-detail">
        <a name="M000041"></a>

        <div class="method-heading">
          <a href="#M000041" class="method-signature">
          <span class="method-name">set_locale_all</span><span class="method-args">(locale)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sets current <a href="GetText.html#M000046">locale</a> to the all
textdomains.
</p>
<p>
Note that you shouldn&#8216;t use this for your own Libraries.
</p>
<ul>
<li><a href="GetText.html#M000046">locale</a>: a <a
href="GetText.html#M000046">locale</a> string or <a
href="Locale/Object.html">Locale::Object</a>, otherwise nil to use default
<a href="GetText.html#M000046">locale</a>.

</li>
<li>Returns: self

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000041-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000041-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext.rb, line 448</span>
448:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_locale_all</span>(<span class="ruby-identifier">locale</span>)
449:     <span class="ruby-identifier">ret</span> = <span class="ruby-keyword kw">nil</span>
450:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">locale</span>
451:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">locale</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Locale</span><span class="ruby-operator">::</span><span class="ruby-constant">Object</span>
452:         <span class="ruby-identifier">ret</span> = <span class="ruby-identifier">locale</span>
453:       <span class="ruby-keyword kw">else</span>
454:         <span class="ruby-identifier">ret</span> = <span class="ruby-constant">Locale</span><span class="ruby-operator">::</span><span class="ruby-constant">Object</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">locale</span>.<span class="ruby-identifier">to_s</span>)
455:       <span class="ruby-keyword kw">end</span>
456:     <span class="ruby-keyword kw">else</span>
457:       <span class="ruby-identifier">ret</span> = <span class="ruby-constant">Locale</span>.<span class="ruby-identifier">default</span>
458:     <span class="ruby-keyword kw">end</span>
459:     <span class="ruby-identifier">ret</span>.<span class="ruby-identifier">charset</span> = <span class="ruby-constant">TextDomainManager</span>.<span class="ruby-identifier">output_charset</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">TextDomainManager</span>.<span class="ruby-identifier">output_charset</span>
460:     <span class="ruby-constant">Locale</span>.<span class="ruby-identifier">set_current</span>(<span class="ruby-identifier">ret</span>)
461:     <span class="ruby-constant">TextDomainManager</span>.<span class="ruby-identifier">each_all</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">textdomain</span><span class="ruby-operator">|</span>
462:       <span class="ruby-identifier">textdomain</span>.<span class="ruby-identifier">set_locale</span>(<span class="ruby-identifier">ret</span>, <span class="ruby-operator">!</span> <span class="ruby-identifier">cached?</span>)
463:     }
464:     <span class="ruby-keyword kw">self</span>
465:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000043" class="method-detail">
        <a name="M000043"></a>

        <div class="method-heading">
          <a href="#M000043" class="method-signature">
          <span class="method-name">set_output_charset</span><span class="method-args">(charset)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sets charset(<a href="String.html">String</a>) such as &quot;euc-jp&quot;,
&quot;sjis&quot;, &quot;CP932&quot;, &quot;utf-8&quot;, &#8230; You
shouldn&#8216;t use this in your own Libraries.
</p>
<ul>
<li>charset: an <a href="GetText.html#M000045">output_charset</a>

</li>
<li>Returns: charset

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000043-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000043-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext.rb, line 483</span>
483:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_output_charset</span>(<span class="ruby-identifier">charset</span>)
484:     <span class="ruby-constant">TextDomainManager</span>.<span class="ruby-identifier">output_charset</span> = <span class="ruby-identifier">charset</span>
485:     <span class="ruby-keyword kw">self</span>
486:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000050" class="method-detail">
        <a name="M000050"></a>

        <div class="method-heading">
          <span class="method-name">setlocale</span><span class="method-args">(locale)</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="GetText.html#M000046">locale</a>=
</p>
        </div>
      </div>

      <div id="method-M000035" class="method-detail">
        <a name="M000035"></a>

        <div class="method-heading">
          <a href="#M000035" class="method-signature">
          <span class="method-name">sgettext(msgid, div = '|')<br />
s_(msgid, div = '|')<br />
</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Translates msgid, but if there are no localized text, it returns a last
part of msgid separeted &quot;div&quot;.
</p>
<ul>
<li>msgid: the message id.

</li>
<li>div: separator or nil.

</li>
<li>Returns: the localized text by msgid. If there are no localized text, it
returns a last part of msgid separeted &quot;div&quot;.

</li>
</ul>
<p>
See: <a
href="http://www.gnu.org/software/gettext/manual/html_mono/gettext.html#SEC151">www.gnu.org/software/gettext/manual/html_mono/gettext.html#SEC151</a>
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000035-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000035-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext.rb, line 278</span>
278:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sgettext</span>(<span class="ruby-identifier">msgid</span>, <span class="ruby-identifier">div</span> = <span class="ruby-value str">'|'</span>)
279:     <span class="ruby-identifier">cached_key</span> = [<span class="ruby-identifier">bound_target</span>, <span class="ruby-constant">Locale</span>.<span class="ruby-identifier">current</span>, <span class="ruby-identifier">msgid</span>]
280:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">cached?</span>
281:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@@__cache_msgids</span>[<span class="ruby-identifier">cached_key</span>]
282:         <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@@__cache_msgids</span>[<span class="ruby-identifier">cached_key</span>]
283:       <span class="ruby-keyword kw">end</span>
284:     <span class="ruby-keyword kw">end</span>
285:     <span class="ruby-identifier">msg</span> = <span class="ruby-keyword kw">nil</span>
286: 
287:     <span class="ruby-comment cmt"># Use &quot;for&quot;(not &quot;each&quot;) to support JRuby 1.1.0.</span>
288:     <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">target</span> <span class="ruby-keyword kw">in</span> <span class="ruby-identifier">bound_targets</span>(<span class="ruby-keyword kw">self</span>)
289:       <span class="ruby-identifier">manager</span> = <span class="ruby-ivar">@@__textdomainmanagers</span>[<span class="ruby-identifier">target</span>]
290:       <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">textdomain</span> <span class="ruby-keyword kw">in</span> <span class="ruby-identifier">manager</span>.<span class="ruby-identifier">textdomains</span>
291:         <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">textdomain</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">gettext</span>(<span class="ruby-identifier">msgid</span>)
292:         <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">msg</span>
293:       <span class="ruby-keyword kw">end</span>
294:       <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">msg</span>
295:     <span class="ruby-keyword kw">end</span>
296: 
297:     <span class="ruby-identifier">msg</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">msgid</span>
298:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">div</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">msg</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">msgid</span>
299:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">index</span> = <span class="ruby-identifier">msg</span>.<span class="ruby-identifier">rindex</span>(<span class="ruby-identifier">div</span>)
300:         <span class="ruby-identifier">msg</span> = <span class="ruby-identifier">msg</span>[(<span class="ruby-identifier">index</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>)<span class="ruby-operator">..</span><span class="ruby-value">-1</span>]
301:       <span class="ruby-keyword kw">end</span>
302:     <span class="ruby-keyword kw">end</span>
303:     <span class="ruby-ivar">@@__cache_msgids</span>[<span class="ruby-identifier">cached_key</span>] = <span class="ruby-identifier">msg</span>
304:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000032" class="method-detail">
        <a name="M000032"></a>

        <div class="method-heading">
          <a href="#M000032" class="method-signature">
          <span class="method-name">textdomain</span><span class="method-args">(domainname)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Binds a existed <a href="GetText.html#M000032">textdomain</a> to your
program. This is the same function with <a
href="GetText.html#M000030">GetText.bindtextdomain</a> but simpler(and
faster) than <a href="GetText.html#M000030">bindtextdomain</a>. Notice that
you need to call <a href="GetText.html#M000030">GetText.bindtextdomain</a>
first. If the domainname hasn&#8216;t bound yet, raises <a
href="GetText/NoboundTextDomainError.html">GetText::NoboundTextDomainError</a>.
</p>
<ul>
<li>domainname: a <a href="GetText.html#M000032">textdomain</a> name.

</li>
<li>Returns: the <a
href="GetText/TextDomainManager.html">GetText::TextDomainManager</a>.

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000032-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000032-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext.rb, line 128</span>
128:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">textdomain</span>(<span class="ruby-identifier">domainname</span>)
129:     <span class="ruby-identifier">domain</span> = <span class="ruby-constant">TextDomainManager</span>.<span class="ruby-identifier">textdomain</span>(<span class="ruby-identifier">domainname</span>)
130:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">NoboundTextDomainError</span>, <span class="ruby-node">&quot;#{domainname} is not bound.&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">domain</span>
131:     <span class="ruby-identifier">target_key</span> = <span class="ruby-identifier">bound_target</span>
132:     <span class="ruby-identifier">manager</span> = <span class="ruby-ivar">@@__textdomainmanagers</span>[<span class="ruby-identifier">target_key</span>]
133:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">manager</span>
134:       <span class="ruby-identifier">manager</span> = <span class="ruby-constant">TextDomainManager</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">target_key</span>, <span class="ruby-constant">Locale</span>.<span class="ruby-identifier">get</span>)
135:       <span class="ruby-ivar">@@__textdomainmanagers</span>[<span class="ruby-identifier">target_key</span>] = <span class="ruby-identifier">manager</span>
136:     <span class="ruby-keyword kw">end</span>
137:     <span class="ruby-identifier">manager</span>.<span class="ruby-identifier">set_locale</span>(<span class="ruby-constant">Locale</span>.<span class="ruby-identifier">get</span>)
138:     <span class="ruby-identifier">manager</span>.<span class="ruby-identifier">add_textdomain</span>(<span class="ruby-identifier">domainname</span>)
139:     <span class="ruby-identifier">manager</span>
140:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000033" class="method-detail">
        <a name="M000033"></a>

        <div class="method-heading">
          <a href="#M000033" class="method-signature">
          <span class="method-name">textdomain_to</span><span class="method-args">(klass, domainname)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Includes <a href="GetText.html">GetText</a> module and bind an exsited <a
href="GetText.html#M000032">textdomain</a> to a class. See <a
href="GetText.html#M000032">textdomain</a> for more detail.
</p>
<ul>
<li>klass: the target ruby class.

</li>
<li>domainname: the <a href="GetText.html#M000032">textdomain</a> name.

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000033-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000033-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext.rb, line 146</span>
146:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">textdomain_to</span>(<span class="ruby-identifier">klass</span>, <span class="ruby-identifier">domainname</span>) 
147:     <span class="ruby-identifier">ret</span> = <span class="ruby-keyword kw">nil</span>
148:     <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">module_eval</span> {
149:       <span class="ruby-identifier">include</span> <span class="ruby-constant">GetText</span>
150:       <span class="ruby-identifier">ret</span> = <span class="ruby-identifier">textdomain</span>(<span class="ruby-identifier">domainname</span>)
151:     }
152:     <span class="ruby-identifier">ret</span>
153:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000020" class="method-detail">
        <a name="M000020"></a>

        <div class="method-heading">
          <a href="#M000020" class="method-signature">
          <span class="method-name">update_pofiles</span><span class="method-args">(textdomain, files, app_version, po_root = &quot;po&quot;, refpot = &quot;tmp.pot&quot;)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
At first, this creates the #{po_root}/#{domainname}.pot file using <a
href="GetText.html#M000021">GetText.rgettext</a>. Since 2nd time, this
updates(merges) the #{po_root}/#{domainname}.pot and all of the
#{po_root}/#{lang}/#{domainname}.po files under &quot;po_root&quot; using
&quot;<a href="GetText.html#M000018">msgmerge</a>&quot;.
</p>
<p>
<b>Note</b> &quot;<a href="GetText.html#M000018">msgmerge</a>&quot; tool is
included in GNU <a href="GetText.html">GetText</a>. So you need to install
GNU <a href="GetText.html">GetText</a>.
</p>
<p>
See &lt;HOWTO maintain po/mo files(<a
href="http://www.yotabanana.com/hiki/ruby-gettext-howto-manage.html">www.yotabanana.com/hiki/ruby-gettext-howto-manage.html</a>)&gt;
for more detals.
</p>
<ul>
<li>domainname: the <a href="GetText.html#M000032">textdomain</a> name.

</li>
<li>targetfiles: An Array of target files or nil (See <a
href="GetText.html#M000021">GetText.rgettext</a> for more details).

</li>
<li>app_version: the application information which appears
&quot;Project-Id-Version: #{app_version}&quot; in the pot/po-files.

</li>
<li>po_root: the root directory of po-files.

</li>
<li>refpot: set the temporary file name. You shouldn&#8216;t use this(It will
be removed).

</li>
</ul>
<pre>
 (e.g.) GetText.update_pofiles(&quot;myapp&quot;, Dir.glob(&quot;lib/*.rb&quot;), &quot;myapp 1.0.0&quot;)
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000020-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000020-source">
<pre>
     <span class="ruby-comment cmt"># File lib/gettext/utils.rb, line 127</span>
127:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">update_pofiles</span>(<span class="ruby-identifier">textdomain</span>, <span class="ruby-identifier">files</span>, <span class="ruby-identifier">app_version</span>, <span class="ruby-identifier">po_root</span> = <span class="ruby-value str">&quot;po&quot;</span>, <span class="ruby-identifier">refpot</span> = <span class="ruby-value str">&quot;tmp.pot&quot;</span>)
128:     <span class="ruby-identifier">rgettext</span>(<span class="ruby-identifier">files</span>, <span class="ruby-identifier">refpot</span>)
129:     <span class="ruby-identifier">msgmerge_all</span>(<span class="ruby-identifier">textdomain</span>, <span class="ruby-identifier">app_version</span>, <span class="ruby-identifier">po_root</span>, <span class="ruby-identifier">refpot</span>)
130:     <span class="ruby-constant">File</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">refpot</span>)
131:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>